apiVersion: networking.istio.io/v1beta1
kind: ServiceEntry
metadata:
  name: cryostat
  annotations:
    argocd.argoproj.io/sync-wave: '4'
    argocd.argoproj.io/sync-options: SkipDryRunOnMissingResource=true
spec:
  hosts:
  - cryostat.cryostat.svc.cluster.local
  location: MESH_EXTERNAL

  # addresses:
  #   - 10.217.0.107/32
  ports:
  - number: 8181
    name: http-cryostat
    protocol: HTTP
  - number: 4180
    name: https-cryostat
    protocol: HTTPS
  # - number: 8989
  #   name: tcp-jfr-ds
  #   protocol: TCP
  # - number: 4180
  #   name: http
  #   protocol: HTTP
  resolution: DNS
