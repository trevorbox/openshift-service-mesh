---
apiVersion: maistra.io/v2
kind: ServiceMeshControlPlane
metadata:
  name: ossm-2-5
spec:
  version: v2.5
  mode: ClusterWide
  meshConfig:
    discoverySelectors:
      - matchLabels:
          istio.io/rev: ossm-2.5
    extensionProviders:
      - name: tempo
        opentelemetry:
          service: tempo-minio-dev-distributor.tempo-system.svc.cluster.local
          port: 4317
  tracing:
    sampling: 10000
    type: None
  security:
    dataPlane:
      mtls: true
      automtls: true
    controlPlane:
      mtls: true
  proxy:
    accessLogging:
      file:
        name: /dev/stdout
    networking:
      trafficControl:
        outbound:
          policy: REGISTRY_ONLY # ALLOW_ANY
  gateways:
    enabled: false
    egress:
      enabled: false
    ingress:   
      enabled: false
    openshiftRoute:
      enabled: false
